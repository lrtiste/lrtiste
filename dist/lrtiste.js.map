{"version":3,"file":"lrtiste.js","sources":["../node_modules/stampit/dist/stampit.mjs","../behaviours/elements.js","../behaviours/observables.js","../behaviours/toggle.js","../behaviours/listMediators.js","../components/accordions.js","../components/tabs.js","../components/menus.js","../components/tooltips.js"],"sourcesContent":["function isObject(obj) {\n  var type = typeof obj;\n  return !!obj && (type === 'object' || type === 'function');\n}\n\nfunction isFunction(obj) {\n  return typeof obj === 'function';\n}\n\nvar concat = Array.prototype.concat;\nvar extractFunctions = function () {\n  var fns = concat.apply([], arguments).filter(isFunction);\n  return fns.length === 0 ? undefined : fns;\n};\n\nfunction isPlainObject(value) {\n  return !!value && typeof value === 'object' &&\n    Object.getPrototypeOf(value) === Object.prototype;\n}\n\n/**\n * The 'src' argument plays the command role.\n * The returned values is always of the same type as the 'src'.\n * @param dst\n * @param src\n * @returns {*}\n */\nfunction mergeOne(dst, src) {\n  if (src === undefined) { return dst; }\n\n  // According to specification arrays must be concatenated.\n  // Also, the '.concat' creates a new array instance. Overrides the 'dst'.\n  if (Array.isArray(src)) { return (Array.isArray(dst) ? dst : []).concat(src); }\n\n  // Now deal with non plain 'src' object. 'src' overrides 'dst'\n  // Note that functions are also assigned! We do not deep merge functions.\n  if (!isPlainObject(src)) { return src; }\n\n  // See if 'dst' is allowed to be mutated. If not - it's overridden with a new plain object.\n  var returnValue = isObject(dst) ? dst : {};\n\n  var keys = Object.keys(src);\n  for (var i = 0; i < keys.length; i += 1) {\n    var key = keys[i];\n\n    var srcValue = src[key];\n    // Do not merge properties with the 'undefined' value.\n    if (srcValue !== undefined) {\n      var dstValue = returnValue[key];\n      // Recursive calls to mergeOne() must allow only plain objects or arrays in dst\n      var newDst = isPlainObject(dstValue) || Array.isArray(srcValue) ? dstValue : {};\n\n      // deep merge each property. Recursion!\n      returnValue[key] = mergeOne(newDst, srcValue);\n    }\n  }\n\n  return returnValue;\n}\n\nvar merge = function (dst) {\n  var srcs = [], len = arguments.length - 1;\n  while ( len-- > 0 ) srcs[ len ] = arguments[ len + 1 ];\n\n  return srcs.reduce(mergeOne, dst);\n};\n\nvar assign$1 = Object.assign;\n\n/**\n * Converts stampit extended descriptor to a standard one.\n * @param [methods]\n * @param [properties]\n * @param [props]\n * @param [refs]\n * @param [initializers]\n * @param [init]\n * @param [deepProperties]\n * @param [deepProps]\n * @param [propertyDescriptors]\n * @param [staticProperties]\n * @param [statics]\n * @param [staticDeepProperties]\n * @param [deepStatics]\n * @param [staticPropertyDescriptors]\n * @param [configuration]\n * @param [conf]\n * @param [deepConfiguration]\n * @param [deepConf]\n * @returns {Descriptor}\n */\nvar standardiseDescriptor = function (ref) {\n  if ( ref === void 0 ) ref = {};\n  var methods = ref.methods;\n  var properties = ref.properties;\n  var props = ref.props;\n  var refs = ref.refs;\n  var initializers = ref.initializers;\n  var init = ref.init;\n  var deepProperties = ref.deepProperties;\n  var deepProps = ref.deepProps;\n  var propertyDescriptors = ref.propertyDescriptors;\n  var staticProperties = ref.staticProperties;\n  var statics = ref.statics;\n  var staticDeepProperties = ref.staticDeepProperties;\n  var deepStatics = ref.deepStatics;\n  var staticPropertyDescriptors = ref.staticPropertyDescriptors;\n  var configuration = ref.configuration;\n  var conf = ref.conf;\n  var deepConfiguration = ref.deepConfiguration;\n  var deepConf = ref.deepConf;\n\n  var p = isObject(props) || isObject(refs) || isObject(properties) ?\n    assign$1({}, props, refs, properties) : undefined;\n\n  var dp = isObject(deepProps) ? merge({}, deepProps) : undefined;\n  dp = isObject(deepProperties) ? merge(dp, deepProperties) : dp;\n\n  var sp = isObject(statics) || isObject(staticProperties) ?\n    assign$1({}, statics, staticProperties) : undefined;\n\n  var dsp = isObject(deepStatics) ? merge({}, deepStatics) : undefined;\n  dsp = isObject(staticDeepProperties) ? merge(dsp, staticDeepProperties) : dsp;\n\n  var c = isObject(conf) || isObject(configuration) ?\n    assign$1({}, conf, configuration) : undefined;\n\n  var dc = isObject(deepConf) ? merge({}, deepConf) : undefined;\n  dc = isObject(deepConfiguration) ? merge(dc, deepConfiguration) : dc;\n\n  return {\n    methods: methods,\n    properties: p,\n    initializers: extractFunctions(init, initializers),\n    deepProperties: dp,\n    staticProperties: sp,\n    staticDeepProperties: dsp,\n    propertyDescriptors: propertyDescriptors,\n    staticPropertyDescriptors: staticPropertyDescriptors,\n    configuration: c,\n    deepConfiguration: dc\n  };\n};\n\nvar assign$2 = Object.assign;\n\n/**\n * Creates new factory instance.\n * @param {Descriptor} descriptor The information about the object the factory will be creating.\n * @returns {Function} The new factory function.\n */\nfunction createFactory(descriptor) {\n  return function Stamp(options) {\n    var args = [], len = arguments.length - 1;\n    while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n    // Next line was optimized for most JS VMs. Please, be careful here!\n    var obj = Object.create(descriptor.methods || null);\n\n    merge(obj, descriptor.deepProperties);\n    assign$2(obj, descriptor.properties);\n    Object.defineProperties(obj, descriptor.propertyDescriptors || {});\n\n    if (!descriptor.initializers || descriptor.initializers.length === 0) { return obj; }\n\n    if (options === undefined) { options = {}; }\n    return descriptor.initializers.filter(isFunction).reduce(function (resultingObj, initializer) {\n      var returnedValue = initializer.call(resultingObj, options,\n        {instance: resultingObj, stamp: Stamp, args: [options].concat(args)});\n      return returnedValue === undefined ? resultingObj : returnedValue;\n    }, obj);\n  };\n}\n\n/**\n * Returns a new stamp given a descriptor and a compose function implementation.\n * @param {Descriptor} [descriptor={}] The information about the object the stamp will be creating.\n * @param {Compose} composeFunction The \"compose\" function implementation.\n * @returns {Stamp}\n */\nfunction createStamp(descriptor, composeFunction) {\n  var Stamp = createFactory(descriptor);\n\n  merge(Stamp, descriptor.staticDeepProperties);\n  assign$2(Stamp, descriptor.staticProperties);\n  Object.defineProperties(Stamp, descriptor.staticPropertyDescriptors || {});\n\n  var composeImplementation = isFunction(Stamp.compose) ? Stamp.compose : composeFunction;\n  Stamp.compose = function _compose() {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    return composeImplementation.apply(this, args);\n  };\n  assign$2(Stamp.compose, descriptor);\n\n  return Stamp;\n}\n\n/**\n * Mutates the dstDescriptor by merging the srcComposable data into it.\n * @param {Descriptor} dstDescriptor The descriptor object to merge into.\n * @param {Composable} [srcComposable] The composable\n * (either descriptor or stamp) to merge data form.\n * @returns {Descriptor} Returns the dstDescriptor argument.\n */\nfunction mergeComposable(dstDescriptor, srcComposable) {\n  var srcDescriptor = (srcComposable && srcComposable.compose) || srcComposable;\n  if (!isObject(srcDescriptor)) { return dstDescriptor; }\n\n  var combineProperty = function (propName, action) {\n    if (!isObject(srcDescriptor[propName])) { return; }\n    if (!isObject(dstDescriptor[propName])) { dstDescriptor[propName] = {}; }\n    action(dstDescriptor[propName], srcDescriptor[propName]);\n  };\n\n  combineProperty('methods', assign$2);\n  combineProperty('properties', assign$2);\n  combineProperty('deepProperties', merge);\n  combineProperty('propertyDescriptors', assign$2);\n  combineProperty('staticProperties', assign$2);\n  combineProperty('staticDeepProperties', merge);\n  combineProperty('staticPropertyDescriptors', assign$2);\n  combineProperty('configuration', assign$2);\n  combineProperty('deepConfiguration', merge);\n  if (Array.isArray(srcDescriptor.initializers)) {\n    dstDescriptor.initializers = srcDescriptor.initializers.reduce(function (result, init) {\n      if (isFunction(init) && result.indexOf(init) < 0) {\n        result.push(init);\n      }\n      return result;\n    }, Array.isArray(dstDescriptor.initializers) ? dstDescriptor.initializers : []);\n  }\n\n  return dstDescriptor;\n}\n\n/**\n * Given the list of composables (stamp descriptors and stamps) returns\n * a new stamp (composable factory function).\n * @typedef {Function} Compose\n * @param {...(Composable)} [composables] The list of composables.\n * @returns {Stamp} A new stamp (aka composable factory function)\n */\nfunction compose() {\n  var composables = [], len = arguments.length;\n  while ( len-- ) composables[ len ] = arguments[ len ];\n\n  var descriptor = [this]\n    .concat(composables)\n    .filter(isObject)\n    .reduce(mergeComposable, {});\n  return createStamp(descriptor, compose);\n}\n\n\n/**\n * The Stamp Descriptor\n * @typedef {Function|Object} Descriptor\n * @returns {Stamp} A new stamp based on this Stamp\n * @property {Object} [methods] Methods or other data used as object instances' prototype\n * @property {Array<Function>} [initializers] List of initializers called for each object instance\n * @property {Object} [properties] Shallow assigned properties of object instances\n * @property {Object} [deepProperties] Deeply merged properties of object instances\n * @property {Object} [staticProperties] Shallow assigned properties of Stamps\n * @property {Object} [staticDeepProperties] Deeply merged properties of Stamps\n * @property {Object} [configuration] Shallow assigned properties of Stamp arbitrary metadata\n * @property {Object} [deepConfiguration] Deeply merged properties of Stamp arbitrary metadata\n * @property {Object} [propertyDescriptors] ES5 Property Descriptors applied to object instances\n * @property {Object} [staticPropertyDescriptors] ES5 Property Descriptors applied to Stamps\n */\n\n/**\n * The Stamp factory function\n * @typedef {Function} Stamp\n * @returns {*} Instantiated object\n * @property {Descriptor} compose - The Stamp descriptor and composition function\n */\n\n/**\n * A composable object - stamp or descriptor\n * @typedef {Stamp|Descriptor} Composable\n */\n\n/**\n * Returns true if argument is a stamp.\n * @param {*} obj\n * @returns {Boolean}\n */\nfunction isStamp(obj) {\n  return isFunction(obj) && isFunction(obj.compose);\n}\n\nvar assign = Object.assign;\n\nfunction createUtilityFunction(propName, action) {\n  return function composeUtil() {\n    var i = arguments.length, argsArray = Array(i);\n    while ( i-- ) argsArray[i] = arguments[i];\n\n    var descriptor = {};\n    descriptor[propName] = action.apply(void 0, [ {} ].concat( argsArray ));\n    return ((this && this.compose) || stampit).call(this, descriptor);\n  };\n}\n\nvar methods = createUtilityFunction('methods', assign);\n\nvar properties = createUtilityFunction('properties', assign);\nfunction initializers() {\n  var args = [], len = arguments.length;\n  while ( len-- ) args[ len ] = arguments[ len ];\n\n  return ((this && this.compose) || stampit).call(this, {\n    initializers: extractFunctions.apply(void 0, args)\n  });\n}\nvar deepProperties = createUtilityFunction('deepProperties', merge);\nvar staticProperties = createUtilityFunction('staticProperties', assign);\nvar staticDeepProperties = createUtilityFunction('staticDeepProperties', merge);\nvar configuration = createUtilityFunction('configuration', assign);\nvar deepConfiguration = createUtilityFunction('deepConfiguration', merge);\nvar propertyDescriptors = createUtilityFunction('propertyDescriptors', assign);\n\nvar staticPropertyDescriptors = createUtilityFunction('staticPropertyDescriptors', assign);\n\nvar allUtilities = {\n  methods: methods,\n\n  properties: properties,\n  refs: properties,\n  props: properties,\n\n  initializers: initializers,\n  init: initializers,\n\n  deepProperties: deepProperties,\n  deepProps: deepProperties,\n\n  staticProperties: staticProperties,\n  statics: staticProperties,\n\n  staticDeepProperties: staticDeepProperties,\n  deepStatics: staticDeepProperties,\n\n  configuration: configuration,\n  conf: configuration,\n\n  deepConfiguration: deepConfiguration,\n  deepConf: deepConfiguration,\n\n  propertyDescriptors: propertyDescriptors,\n\n  staticPropertyDescriptors: staticPropertyDescriptors\n};\n\n/**\n * Infected stamp. Used as a storage of the infection metadata\n * @type {Function}\n * @return {Stamp}\n */\nvar baseStampit = compose(\n  {staticProperties: allUtilities},\n  {\n    staticProperties: {\n      create: function create() {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return this.apply(void 0, args);\n      },\n      compose: stampit // infecting\n    }\n  }\n);\n\n/**\n * Infected compose\n * @param {...(Composable)} [args] The list of composables.\n * @return {Stamp}\n */\nfunction stampit() {\n  var args = [], len = arguments.length;\n  while ( len-- ) args[ len ] = arguments[ len ];\n\n  args = args.filter(isObject)\n    .map(function (arg) { return isStamp(arg) ? arg : standardiseDescriptor(arg); });\n\n  // Calling the standard pure compose function here.\n  return compose.apply(this || baseStampit, args);\n}\n\nvar exportedCompose = stampit.bind(); // bind to 'undefined'\nstampit.compose = exportedCompose;\n\n// Setting up the shortcut functions\nvar stampit$1 = assign(stampit, allUtilities);\n\nexport { methods, properties, properties as refs, properties as props, initializers, initializers as init, deepProperties, deepProperties as deepProps, staticProperties, staticProperties as statics, staticDeepProperties, staticDeepProperties as deepStatics, configuration, configuration as conf, deepConfiguration, deepConfiguration as deepConf, propertyDescriptors, staticPropertyDescriptors, exportedCompose as compose };export default stampit$1;\n//# sourceMappingURL=stampit.mjs.map\n","import {init, compose} from 'stampit';\n\nexport function element ({propertyName = 'el'}={propertyName: 'el'}) {\n  return init(function assertElement(opts = {}) {\n    const el = opts[propertyName];\n    if (!el) {\n      throw new Error(`You must provide a dom element as \"${propertyName}\" property`);\n    }\n    Object.defineProperty(this, propertyName, {value: el});\n  });\n}\n\nexport function ariaElement ({ariaRole, propertyName = 'el'}) {\n  const elStamp = element({propertyName});\n  return compose(elStamp, init(function assertAriaRole() {\n    const role = this.el.getAttribute('role');\n    if (role !== ariaRole) {\n      throw new Error(`the element used to create the component is expected to have the aria role ${ariaRole}`);\n    }\n  }));\n}\n","import {init, compose} from 'stampit';\nimport {element} from './elements';\n\nexport function observable (...properties) {\n  return init(function () {\n    const listeners = {};\n\n    if (!this.$onChange || !this.$on) {\n      this.$onChange = (prop, newVal) => {\n        const ls = listeners[prop] || [];\n        for (let cb of ls) {\n          cb(newVal);\n        }\n        return this;\n      };\n\n      this.$on = (property, cb)=> {\n        const listenersList = listeners[property] || [];\n        listenersList.push(cb);\n        listeners[property] = listenersList;\n        return this;\n      };\n    }\n\n    for (let prop of properties) {\n      let value = this[prop];\n      Object.defineProperty(this, prop, {\n        get(){\n          return value;\n        },\n        set(val){\n          value = val;\n          this.$onChange(prop, val);\n        }\n      });\n    }\n  });\n}\n\nconst mandatoryEl = element();\n\nexport function mapToAria (prop, ...attributes) {\n  const ariaAttributes = attributes.map(attr=> {\n    const isNot = /^\\!/.test(attr);\n    const att = isNot ? attr.substr(1) : attr;\n    const fn = isNot ? v => !v : v=>v;\n    return {attr: ['aria', att].join('-'), fn};\n  });\n  return compose(\n    mandatoryEl,\n    observable(prop),\n    init(function () {\n      this.$on(prop, newVal => {\n        for (let att of ariaAttributes) {\n          this.el.setAttribute(att.attr, att.fn(newVal));\n        }\n      });\n    })\n  );\n}\n","import {methods} from 'stampit';\n\nexport function toggle (prop = 'isOpen') {\n  return methods({\n    toggle(){\n      this[prop] = !this[prop];\n    }\n  });\n}\n","import { init, compose, methods } from 'stampit';\n\nconst abstractListMediatorStamp = init(function({ items = [] }) {\n  Object.defineProperty(this, 'items', { value: items });\n}).methods({\n  addItem(item) {\n    this.items.push(item);\n  },\n  selectItem(item) {\n    const index = this.items.indexOf(item);\n    if (index !== -1) {\n      for (let i of this.items) {\n        i.isSelected = i === item;\n      }\n    }\n  },\n  selectNextItem(item) {\n    const index = this.items.indexOf(item);\n    if (index !== -1) {\n      const newIndex = index === this.items.length - 1 ? 0 : index + 1;\n      this.selectItem(this.items[newIndex]);\n    }\n  },\n  selectPreviousItem(item) {\n    const index = this.items.indexOf(item);\n    if (index !== -1) {\n      const newIndex = index === 0 ? this.items.length - 1 : index - 1;\n      this.selectItem(this.items[newIndex]);\n    }\n  }\n});\n\nconst listItem = init(function({ listMediator, isOpen }) {\n  if (!listMediator) {\n    throw new Error('you must provide a listMediator to the listItem');\n  }\n  this.isOpen = this.isOpen ? this.isOpen : isOpen === true;\n  Object.defineProperty(this, 'listMediator', { value: listMediator });\n  listMediator.addItem(this);\n}).methods({\n  toggle() {\n    this.listMediator.toggleItem(this);\n  },\n  select() {\n    this.listMediator.selectItem(this);\n  },\n  selectPrevious() {\n    this.listMediator.selectPreviousItem(this);\n  },\n  selectNext() {\n    this.listMediator.selectNextItem(this);\n  }\n});\n\nconst multiSelectListMediator = compose(\n  abstractListMediatorStamp,\n  methods({\n    toggleItem(item) {\n      const index = this.items.indexOf(item);\n      if (index !== -1) {\n        item.isOpen = !item.isOpen;\n      }\n    }\n  })\n);\n\nconst listMediator = compose(\n  abstractListMediatorStamp,\n  methods({\n    toggleItem(item) {\n      for (let i of this.items) {\n        i.isOpen = i === item ? !i.isOpen : false;\n      }\n      return this;\n    }\n  })\n);\n\nexport { listMediator, multiSelectListMediator, listItem };\n","import {ariaElement, element} from '../behaviours/elements';\nimport {compose, init, methods} from 'stampit';\nimport {mapToAria} from '../behaviours/observables';\nimport {toggle} from '../behaviours/toggle';\nimport {multiSelectListMediator, listItem} from '../behaviours/listMediators';\n\nconst mandatoryElement = element();\nconst tablist = ariaElement({ariaRole: 'tablist'});\n\nconst accordionTabEventBinding = init(function () {\n  this.el.addEventListener('click', event => {\n    this.toggle();\n    this.select();\n  });\n\n  this.el.addEventListener('keydown', event => {\n    const {key: k, code, target} = event;\n    if (k === 'Enter' || code === 'Space') {\n      if (target.tagName !== 'BUTTON' || target.tagName === 'A') {\n        this.toggle();\n        this.select();\n        event.preventDefault();\n      }\n    } else if (k === 'ArrowLeft' || k === 'ArrowUp') {\n      this.selectPrevious();\n      event.preventDefault();\n    } else if (k === 'ArrowRight' || k === 'ArrowDown') {\n      this.selectNext();\n      event.preventDefault();\n    }\n  });\n});\nconst accordionTabpanelEventBinding = init(function () {\n  this.el.addEventListener('focusin', event => {\n    this.tab.select();\n  });\n  this.el.addEventListener('click', event => {\n    this.tab.select();\n  });\n});\n\nconst accordionTabpanelStamp = compose(\n  ariaElement({ariaRole: 'tabpanel'}),\n  toggle(),\n  methods({\n    hasFocus() {\n      return this.el.querySelector(':focus') !== null;\n    }\n  }),\n  mapToAria('isOpen', '!hidden'),\n  init(function initializeAccordionTabpanel ({tab}) {\n    Object.defineProperty(this, 'tab', {value: tab});\n  }),\n  accordionTabpanelEventBinding\n);\n\nconst accordionTabStamp = compose(\n  ariaElement({ariaRole: 'tab'}),\n  listItem,\n  mapToAria('isOpen', 'expanded'),\n  mapToAria('isSelected', 'selected'),\n  init(function initializeAccordionTab ({tabpanelEl}) {\n    const tabpanel = accordionTabpanelStamp({el: tabpanelEl, tab: this});\n    Object.defineProperty(this, 'tabpanel', {value: tabpanel});\n    this.$on('isOpen', isOpen => {\n      this.tabpanel.toggle();\n    });\n\n    this.$on('isSelected', isSelected => {\n      this.el.setAttribute('tabindex', isSelected ? 0 : -1);\n      if (isSelected && !this.tabpanel.hasFocus()) {\n        this.el.focus();\n      }\n    });\n\n    this.isSelected = this.el.getAttribute('aria-selected') == 'true' ||\n      this.el.getAttribute('tabindex') === '0';\n    this.isOpen = this.el.getAttribute('aria-expanded') === 'true';\n    this.tabpanel.isOpen = this.isOpen;\n  }),\n  accordionTabEventBinding\n);\n\nexport function accordionTab () {\n  return accordionTabStamp;\n}\n\nexport function accordionPanel () {\n  return accordionTabpanelStamp;\n}\n\nexport function accordion () {\n  return compose(\n    mandatoryElement,\n    multiSelectListMediator,\n    init(function initializeAccordionTablist () {\n      Object.defineProperty(this, 'tablist', {\n        value: tablist({\n          el: this.el.querySelector('[role=tablist]') || this.el\n        })\n      });\n      this.tablist.el.setAttribute('aria-multiselectable', true);\n      for (let tab of this.tablist.el.querySelectorAll('[role=tab]')) {\n        const controlledId = tab.getAttribute('aria-controls');\n        if (!controlledId) {\n          console.log(tab);\n          throw new Error(\n            'for the accordion tab element above, you must specify which tabpanel is controlled using aria-controls'\n          );\n        }\n        const tabpanelEl = this.el.querySelector(`#${controlledId}`);\n        if (!tabpanelEl) {\n          console.log(tab);\n          throw new Error(\n            `for the tab element above, could not find the related tabpanel with the id ${controlledId}`\n          );\n        }\n        accordionTabStamp({tabpanelEl, el: tab, listMediator: this});\n      }\n    })\n  );\n}\n","import {ariaElement, element} from '../behaviours/elements';\nimport {listMediator, listItem} from '../behaviours/listMediators';\nimport {compose, init} from 'stampit';\nimport {toggle} from '../behaviours/toggle';\nimport {mapToAria} from '../behaviours/observables';\n\nconst mandatoryElement = element();\nconst tablist = ariaElement({ariaRole: 'tablist'});\n\nconst tabEventBinding = init(function () {\n  this.el.addEventListener('keydown', event => {\n    const {key: k} = event;\n    if (k === 'ArrowLeft' || k === 'ArrowUp') {\n      this.selectPrevious();\n      event.preventDefault();\n    } else if (k === 'ArrowDown' || k === 'ArrowRight') {\n      this.selectNext();\n      event.preventDefault();\n    }\n  });\n  this.el.addEventListener('click', event => {\n    this.select();\n  });\n});\n\nconst tabStamp = compose(\n  ariaElement({ariaRole: 'tab'}),\n  listItem,\n  mapToAria('isSelected', 'selected'),\n  init(function initializeTab ({tabpanel}) {\n    Object.defineProperty(this, 'tabpanel', {value: tabpanel});\n    this.$on('isSelected', isSelected => {\n      this.el.setAttribute('tabindex', isSelected ? 0 : -1);\n      if (isSelected !== this.tabpanel.isOpen) {\n        this.tabpanel.toggle();\n      }\n      if (isSelected) {\n        this.el.focus();\n      }\n    });\n    this.isSelected = this.el.getAttribute('aria-selected') === 'true';\n    this.tabpanel.isOpen = this.isSelected;\n  }),\n  tabEventBinding\n);\n\nconst tabPanelStamp = compose(\n  ariaElement({ariaRole: 'tabpanel'}),\n  toggle(),\n  mapToAria('isOpen', '!hidden')\n);\n\nexport function tabPanel () {\n  return tabPanelStamp;\n}\n\nexport function tab () {\n  return tabStamp;\n}\n\nexport function tabList ({tabpanelFactory = tabPanelStamp, tabFactory = tabStamp} = {}) {\n  return compose(\n    mandatoryElement,\n    listMediator,\n    init(function initializeTablist () {\n      Object.defineProperty(this, 'tablist', {\n        value: tablist({\n          el: this.el.querySelector('[role=tablist]') || this.el\n        })\n      });\n      for (let tab of this.tablist.el.querySelectorAll('[role=tab]')) {\n        const controlledId = tab.getAttribute('aria-controls');\n        if (!controlledId) {\n          console.log(tab);\n          throw new Error(\n            'for the tab element above, you must specify which tabpanel is controlled using aria-controls'\n          );\n        }\n        const tabpanelEl = this.el.querySelector(`#${controlledId}`);\n        if (!tabpanelEl) {\n          console.log(tab);\n          throw new Error(\n            `for the tab element above, could not find the related tabpanel with the id ${controlledId}`\n          );\n        }\n        const tabpanel = tabpanelFactory({el: tabpanelEl});\n        tabFactory({el: tab, listMediator: this, tabpanel});\n      }\n    })\n  );\n}\n","import {ariaElement, element} from '../behaviours/elements';\nimport {compose, init} from 'stampit';\nimport {observable, mapToAria} from '../behaviours/observables';\nimport {toggle} from '../behaviours/toggle';\nimport {listMediator, listItem} from '../behaviours/listMediators';\n\nconst mandatoryElement = element();\nconst menuElement = ariaElement({ariaRole: 'menu'});\n\nconst abstractMenuItem = compose(\n  ariaElement({ariaRole: 'menuitem'}),\n  listItem,\n  observable('isSelected'),\n  init(function () {\n    this.$on('isSelected', isSelected => {\n      this.el.setAttribute('tabindex', isSelected ? 0 : -1);\n      if (isSelected === true) {\n        this.el.focus();\n      }\n    });\n  })\n);\n\nconst menuItemEvenBinding = init(function () {\n  this.el.addEventListener('keydown', event => {\n    const {key: k} = event;\n    if (k === 'ArrowLeft' || k === 'ArrowUp') {\n      this.selectPrevious();\n      event.preventDefault();\n    } else if (k === 'ArrowRight' || k === 'ArrowDown') {\n      this.selectNext();\n      event.preventDefault();\n    }\n  });\n});\n\nconst menuItemStamp = compose(abstractMenuItem, menuItemEvenBinding);\n\nconst subMenuItemEventBinding = init(function () {\n  this.el.addEventListener('keydown', event => {\n    const {key: k} = event;\n    if (k === 'ArrowUp') {\n      this.selectPrevious();\n      event.preventDefault();\n    } else if (k === 'ArrowDown') {\n      this.selectNext();\n      event.preventDefault();\n    }\n  });\n});\n\nconst subMenuItemStamp = compose(abstractMenuItem, subMenuItemEventBinding);\n\nconst menuEventBinding = init(function () {\n  this.toggler.addEventListener('click', () => {\n    this.toggle();\n  });\n  this.toggler.addEventListener('keydown', event => {\n    const {key: k, code} = event;\n    const toggle = ev => {\n      this.toggle();\n      ev.preventDefault();\n    };\n    if (k === 'Enter' || code === 'Space') {\n      toggle(event);\n    } else if (k === 'ArrowDown' && !this.isOpen) {\n      toggle(event);\n    } else if (k === 'ArrowUp' && this.isOpen) {\n      toggle(event);\n    }\n  });\n\n  this.el.addEventListener('keydown', event => {\n    const {key: k} = event;\n    if (k === 'Escape' && this.isOpen) {\n      this.toggle();\n      this.toggler.focus();\n    } else if (k == 'Tab') {\n      if (this.el.querySelector(':focus') !== null && this.isOpen) {\n        this.toggle();\n      }\n    }\n  });\n});\n\nconst subMenuEventBinding = init(function () {\n  const next = ev => {\n    this.selectNext();\n    if (this.isOpen) {\n      this.toggle();\n    }\n    ev.preventDefault();\n  };\n\n  const previous = ev => {\n    this.selectPrevious();\n    if (this.isOpen) {\n      this.toggle();\n    }\n    ev.preventDefault();\n  };\n\n  this.toggler.addEventListener('click', () => {\n    this.toggle();\n  });\n  this.toggler.addEventListener('keydown', event => {\n    const {key: k, code, target} = event;\n    if ((k === 'Enter' || code === 'Space') && target === this.toggler) {\n      this.toggle();\n    } else if (k === 'ArrowRight') {\n      next(event);\n    } else if (k === 'ArrowLeft') {\n      previous(event);\n    } else if (k === 'ArrowDown' && target === this.toggler) {\n      if (!this.isOpen) {\n        this.toggle();\n      } else {\n        this.selectNext();\n      }\n    } else if (k === 'ArrowUp' && target === this.toggler) {\n      if (this.isOpen) {\n        this.toggle();\n      } else {\n        this.selectPrevious();\n      }\n    }\n\n    if (\n      ['ArrowDown', 'ArrowUp', 'Enter'].indexOf(k) !== -1 || code === 'Space'\n    ) {\n      event.preventDefault();\n    }\n  });\n\n  this.el.addEventListener('keydown', event => {\n    const {key: k} = event;\n    if (k === 'ArrowRight') {\n      next(event);\n    } else if (k === 'ArrowLeft') {\n      previous(event);\n    } else if (k === 'Escape' && this.isOpen) {\n      this.toggle();\n      if (k === 'Escape') {\n        this.toggler.focus();\n      }\n    } else if (k == 'Tab') {\n      if (this.el.querySelector(':focus') !== null && this.isOpen) {\n        this.toggle();\n      }\n    }\n  });\n});\n\nfunction menuInitStamp ({menuItem = menuItemStamp} = {}) {\n  return init(function () {\n    const menu = menuElement({\n      el: this.el.querySelector('[role=menu]') || this.el\n    });\n    const toggler = this.el.querySelector('[aria-haspopup]') || this.el;\n\n    Object.defineProperty(this, 'toggler', {value: toggler});\n    Object.defineProperty(this, 'menu', {value: menu});\n\n    for (const el of this.menu.el.querySelectorAll('[role=\"menuitem\"]')) {\n      menuItem({listMediator: this, el});\n    }\n\n    this.$on('isOpen', isOpen => {\n      this.toggler.setAttribute('aria-expanded', isOpen);\n      this.menu.el.setAttribute('aria-hidden', !isOpen);\n      if (isOpen && this.items.length) {\n        this.selectItem(this.items[0]);\n      }\n    });\n    this.$on('isSelected', isSelected => {\n      this.toggler.setAttribute('tabindex', isSelected ? 0 : -1);\n      if (isSelected) {\n        this.toggler.focus();\n      }\n    });\n    this.isOpen = !!this.toggler.getAttribute('aria-expanded');\n  });\n}\n\nconst abstractMenuStamp = compose(\n  mandatoryElement,\n  listMediator,\n  toggle(),\n  observable('isOpen')\n);\n\nexport function dropdown ({menuItem = menuItemStamp} = {}) {\n  return compose(\n    abstractMenuStamp,\n    menuInitStamp({menuItem}),\n    menuEventBinding\n  );\n}\n\nexport function subMenu ({menuItem = subMenuItemStamp} = {}) {\n  return compose(\n    listItem,\n    abstractMenuStamp,\n    observable('isSelected'),\n    menuInitStamp({menuItem}),\n    subMenuEventBinding\n  );\n}\n\nconst subMenuStamp = subMenu({menuItem: subMenuItemStamp});\n\nexport function menubar ({menuItem = menuItemStamp, subMenu = subMenuStamp} = {}) {\n  return compose(\n    ariaElement({ariaRole: 'menubar'}),\n    listMediator,\n    init(function () {\n      for (const item of findChildrenMenuItem(this.el)) {\n        if (item.querySelector('[role=menu]') !== null) {\n          subMenu({el: item, listMediator: this});\n        } else {\n          menuItem({listMediator: this, el: item});\n        }\n      }\n    })\n  );\n}\n\nexport function menuItem () {\n  return menuItemStamp;\n}\n\nexport function subMenuItem () {\n  return subMenuItemStamp;\n}\n\n\nexport function expandable () {\n  return compose(\n    element(),\n    toggle(),\n    observable('isOpen'),\n    init(function () {\n      const toggler = this.el.querySelector('[aria-haspopup=true]');\n      const controlledId = toggler.getAttribute('aria-controls');\n      const section = this.el.querySelector(`#${controlledId}`);\n      Object.defineProperty(this, 'section', {value: section});\n      Object.defineProperty(this, 'toggler', {value: toggler});\n\n      this.$on('isOpen', isOpen => {\n        this.section.setAttribute('aria-hidden', !isOpen);\n        this.toggler.setAttribute('aria-expanded', isOpen);\n      });\n\n      this.isOpen = Boolean(this.toggler.getAttribute('aria-expanded'));\n\n    }),\n    menuEventBinding\n  );\n}\nfunction findChildrenMenuItem (base) {\n  const items = [];\n  for (const c of base.children) {\n    const role = c.getAttribute('role');\n    if (role === 'menu') {\n      continue;\n    }\n    if (role === 'menuitem') {\n      items.push(c);\n    } else {\n      items.push(...findChildrenMenuItem(c));\n    }\n  }\n  return items;\n}\n","import {ariaElement} from '../behaviours/elements';\nimport {observable} from '../behaviours/observables';\nimport {init, compose, methods} from 'stampit';\n\nconst tooltipEventBindingStamp = init(function tooltipEventBinding () {\n  this.target.addEventListener('focus', this.show.bind(this));\n  this.target.addEventListener('keydown', event => {\n    const {key: k} = event;\n    if (k === 'Escape') {\n      this.hide();\n    }\n  });\n  this.target.addEventListener('blur', this.hide.bind(this));\n  this.target.addEventListener('mouseenter', this.show.bind(this));\n  this.target.addEventListener('mouseleave', this.hide.bind(this));\n});\n\nexport function tooltip () {\n  return compose(\n    ariaElement({ariaRole: 'tooltip'}),\n    observable('isOpen'),\n    methods({\n      hide() {\n        if (this.el.parentNode !== null) {\n          this.el.remove();\n        }\n        this.isOpen = false;\n      },\n      show() {\n        if (this.el.parentNode === null) {\n          //always reuse the same element\n          this.target.insertAdjacentElement('afterend', this.el);\n        }\n        this.isOpen = true;\n      }\n    }),\n    init(function initializeTooltip () {\n      const id = this.el.getAttribute('id');\n      if (!id) {\n        console.log(this.el);\n        throw new Error('the above tooltip element must have an id');\n      }\n      const targetElement = document.querySelector(`[aria-describedby=${id}]`);\n      if (!targetElement) {\n        console.warn(\n          'there is no target element described by the tooltip ' + id\n        );\n      }\n      Object.defineProperty(this, 'target', {value: targetElement});\n      this.hide();\n    }),\n    tooltipEventBindingStamp\n  );\n}\n"],"names":["init","compose","properties","mandatoryElement","tablist","toggle"],"mappings":"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"}